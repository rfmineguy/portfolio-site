<!doctype html>
<html lang="en" data-bs-theme="dark">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Riley Fischer - Portfolio</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link href="main.css" rel="stylesheet">
    <link rel="icon" type="image/png" href="https://rfmineguy.github.io/portfolio-site/assets/images/favicon/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="https://rfmineguy.github.io/portfolio-site/assets/images/favicon/favicon.svg" />
    <link rel="shortcut icon" href="https://rfmineguy.github.io/portfolio-site/assets/images/favicon/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="https://rfmineguy.github.io/portfolio-site/assets/images/favicon/apple-touch-icon.png" />
    <meta name="apple-mobile-web-app-title" content="MyWebSite" />
  </head>
  <body>
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/styles/default.min.css">
		<link rel="stylesheet" href="https://unpkg.com/@highlightjs/cdn-assets@latest/styles/dark.min.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/highlight.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/languages/bash.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/languages/yml.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/languages/javascript.min.js"></script>
		

    <script type="text/javascript" src="src/template.js"></script>
  </body>
</html>

<header data-bs-theme="dark">
	<div id="heading-data-container">
		<!-- Filled in dynamically by javascript -->
	</div>
  <div class="navbar navbar-dark bg-dark shadow-sm">
    <div class="container">
      <a href="#" class="navbar-brand d-flex align-items-center">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true" class="me-2" viewBox="0 0 24 24"><path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"/><circle cx="12" cy="13" r="4"/></svg>
        <strong>Riley Fischer</strong>
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarHeader" aria-controls="navbarHeader" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
    </div>
  </div>
</header>

<main>
	<div id="blog-container">
			<!-- Filled in dynamically by javascript -->
	</div>
</main>

<script type="module">
		/* Include the template library
		*/
		await include_templatelib('templatelib.html', ['blog-header', 'blog-entry', 'blog-p', 'main-heading', 'blog-code']);

		emit((() => template('blog-header', {
			title: "Generics Generator",
			description: "My journey through the development of this tool",
		}))(), 'project-container')

		emit((() => template('blog-entry', {
			title: "Why Generics Generator?",
			body: [
				() => template('blog-p', {
					content: `
						As a C programmer that came from C++, I've always felt that generic datastructures were kind of a pain in the butt to use.
						You'd have to rewrite the <u><em>exact</em></u> same code for every underlying data type you want to use, and while it works I
						thought that wasn't a reasonable way to solve the problem. So for the past few months I've been working on a solution to that problem
					`
				}),
				() => template('blog-p', {
					content: `
						My journey to the solution wasn't a straight path however, and that's the store this blog will tell.
					`
				})
			]
		}))(), 'project-container')

		emit((() => template('blog-entry', {
			title: "The Initial Idea",
			body: [
				() => template('blog-p', {
					content: `
						The initial thoughts was that it would be a command line driven tool. It would look in a specified search directory for files labeled with the <code>.tpl</code> extention.
						This file would define what that template was for: the source template files, the replacements, and the dependencies.<br>
						<br>
						For every new template you wanted to make you would write a new <code>.tpl</code> file and put it in the search directory, then voila it is now a template that can be generated.<br>
						<br>
						I didn't know it at the time, but this method wouldn't work very well when used in existing C build toolchains like Makefile, Cmake, Meson, etc.<br>
						<br>
						<a href="https://github.com/rfmineguy/generics-generator">Generics Generator (Zig)</a>
					`
				})
			]
		}))(), 'project-container')

		emit((() => template('blog-entry', {
			title: "Why It Didn't Work",
			body: [
				() => template('blog-p', {
					content: `
						Once I was done with the Zig version of generics generator I was finding it difficult to use! I realized that I hadn't thought about how it would be actually used in a codebase.<br>
						<br>
						The way it was structured didn't lend itself to working within the build process of a project and this is how I originally intended it to be used. Because it required all the input as command line arguments, depending on how many parameters your template had it would make the build code really long, unweildy, and unreadable.<br>
						<br>
						Further still after I did figure out how to force it work I realized it didn't support incremental builds. It would regenerate the template regardless of whether it had changed. This is obviously wasteful, and potentially time consuming (though generics-generator is pretty fast).<br>
						<br>
						So at this point I knew I had to take what I learned here and make a better, more useful version.
					`
				}),
			]
		}))(), 'project-container')

		emit((() => template('blog-entry', {
			title: "The Start of the C Version",
			body: [
				() => template('blog-p', {
					content: `
						After I realized the zig version wasn't working the way it needed to, I pivoted to make a C native version. One that had no external dependencies other than a single header file and a C99 compliant compiler.<br>
						<br>
						An important point of the c version was that it had to have feature parity with the Zig version. This requirement was really helpful because it allowed me to have a focus, and not accidentally expand the scope too far.<br>
						<br>
						Additionally because I'm quite familiar with C, after implementing the idea once in Zig, I knew some ways to significantly simplify the C version while also making it <em>more</em> powerful.<br>
						<br>
						<h5>How does it simplify?</h5>
						<ol>
							<li>The C version gets rid of the <code>.tpl</code> file entirely
							<li>The C version removes command line arguments entirely without losing configurability
							<li>All configuration is done in C with a well defined API
							<li>There are very few moving parts to keep track of
						</ol>
					`
				}),
			]
		}))(), 'project-container')
</script>
